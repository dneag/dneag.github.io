<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../dist/output.css" rel="stylesheet">
        <title>Dan Neag - Code and Artwork</title>
    </head>
    <body class="bg-slate-50 h-screen" onload="handleQueryString()">
        <div class="border-2" style="height: 11%;">
            <h1 class="text-5xl text-inherit font-light px-12 pt-5">Dan Neag - Portfolio</h1>
            <hr class="h-px my-3 border-0 bg-gradient-to-r from-gray-700">
        </div>
        
        <div class="overflow-hidden" 
             style="height: 89%; max-height: 89%; display: grid; grid-template-columns: minmax(0,2fr) 8fr;">
             <!-- Note to self: regarding the above style attribute, by default, grid columns have a minimum width
                of the content inside them, which can cause overflows to behave unexpectedly.  To avoid this, 
                explicitly set the minimum width of the column - done here with minmax -->
            <div class=" bg-slate-200 pl-14 mt-2 rounded-lg overflow-clip">
                <div>
                    <button id="resumeButton" onclick="setContentDisplay('Dan_Neag_Resume.pdf')" 
                            class="font-light hover:text-gray-400 w-full text-left"
                            style="font-size: 32px;">Resume</button>
                    <hr class="h-px w-4/5 border-0 bg-gradient-to-r from-gray-700">
                </div>
                <div class="mt-4 font-light space-y-1" style="font-size: 19px;">
                    <button id="treesButton" onclick="setContentDisplay('trees.html')"
                            class="hover:text-gray-400 w-full text-left">Trees</button><br>
                    <button id="ddkButton" onclick="setContentDisplay('ddk-review.html')"
                            class="hover:text-gray-400 w-full text-left">DDK Review</button>
                </div>
            </div>
            <div class="mt-2 rounded-lg">
                <iframe id="contentDisplay" title="contentDisplayIframe" src="" target="_parent"
                        style="height:100%;width:100%" ></iframe>
            </div>
        </div>
    </body>
</html>

<script>

const navButtons = new Map();

navButtons.set('Dan_Neag_Resume.pdf', document.getElementById("resumeButton"));
navButtons.set('trees.html', document.getElementById("treesButton"));
navButtons.set('ddk-review.html', document.getElementById("ddkButton"));

function setContentDisplay(newPage) {
    console.log(document.getElementById("contentDisplay").src)
    let currentPage = document.getElementById("contentDisplay").src.split('/');
    currentPage = currentPage[currentPage.length - 1]

    if (currentPage != newPage) {

        const buttonFade = ["bg-gradient-to-l", "from-slate-50"];

        const currentButton = navButtons.get(currentPage)
        if (currentButton != undefined)
            currentButton.classList.remove(buttonFade[0], buttonFade[1])

        navButtons.get(newPage).classList.add(buttonFade[0], buttonFade[1])

        document.getElementById("contentDisplay").src = newPage
    }
}

function handleQueryString() {

    var query = window.location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {

        var pair = vars[i].split('=');
        if (pair[0] == 'contentDisplay') {
            setContentDisplay(pair[1])
        }
    }
}

</script>
